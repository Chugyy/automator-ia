{
  "tool_name": "whatsapp",
  "display_name": "WhatsApp Business (Unipile)",
  "description": "Envoi de messages WhatsApp via l'API d'Unipile",
  "required_params": ["unipile_api_key", "wa_accountid"],
  "optional_params": {
    "unipile_dsn": "api12.unipile.com:14215",
    "timeout": 30
  },
  "actions": {
    "send_message": {
      "description": "Envoie un message WhatsApp à un numéro de téléphone",
      "parameters": {
        "phone_number": "Numéro de téléphone du destinataire (requis)",
        "message": "Texte du message à envoyer (requis)"
      },
      "example": {
        "action": "send_message",
        "params": {
          "phone_number": "+33612345678",
          "message": "Bonjour! Comment allez-vous?"
        }
      }
    },
    "send_message_to_chat": {
      "description": "Envoie un message à un chat WhatsApp existant",
      "parameters": {
        "chat_id": "ID du chat WhatsApp (requis)",
        "message": "Texte du message à envoyer (requis)"
      },
      "example": {
        "action": "send_message_to_chat",
        "params": {
          "chat_id": "chat_abc123",
          "message": "Merci pour votre message!"
        }
      }
    },
    "get_contacts": {
      "description": "Récupère la liste des contacts WhatsApp",
      "parameters": {
        "limit": "Nombre maximum de contacts à récupérer (optionnel, défaut: 50)"
      },
      "example": {
        "action": "get_contacts",
        "params": {
          "limit": 10
        }
      }
    },
    "get_conversations": {
      "description": "Récupère la liste des conversations/chats WhatsApp",
      "parameters": {
        "limit": "Nombre maximum de conversations à récupérer (optionnel, défaut: 10)"
      },
      "example": {
        "action": "get_conversations",
        "params": {
          "limit": 5
        }
      }
    },
    "get_messages": {
      "description": "Récupère les messages d'un chat spécifique ou les messages récents",
      "parameters": {
        "chat_id": "ID du chat pour récupérer ses messages (optionnel)",
        "limit": "Nombre maximum de messages à récupérer (optionnel, défaut: 20)"
      },
      "example": {
        "action": "get_messages",
        "params": {
          "chat_id": "e42UFvJQWTyg8BK9upOS5Q",
          "limit": 10
        }
      }
    },
    "sync_chat_history": {
      "description": "Lance la synchronisation de l'historique complet d'un chat",
      "parameters": {
        "chat_id": "ID du chat à synchroniser (requis)"
      },
      "example": {
        "action": "sync_chat_history",
        "params": {
          "chat_id": "e42UFvJQWTyg8BK9upOS5Q"
        }
      }
    },
    "get_account_status": {
      "description": "Vérifie le statut de connexion du compte WhatsApp",
      "parameters": {
        "account_id": "ID du compte à vérifier (optionnel, utilise celui par défaut)"
      },
      "example": {
        "action": "get_account_status",
        "params": {}
      }
    }
  },
  "profile_examples": {
    "BUSINESS": {
      "unipile_api_key": "your_unipile_api_key_here",
      "wa_accountid": "your_wa_account_id_here",
      "unipile_dsn": "api12.unipile.com:14215"
    },
    "CUSTOMER_SERVICE": {
      "unipile_api_key": "your_cs_unipile_api_key",
      "wa_accountid": "your_cs_wa_account_id",
      "unipile_dsn": "api12.unipile.com:14215",
      "timeout": 60
    }
  },
  "setup_instructions": {
    "1": "Créer un compte sur Unipile (https://unipile.com)",
    "2": "Obtenir votre clé API Unipile",
    "3": "Connecter votre compte WhatsApp Business via Unipile",
    "4": "Récupérer votre WA_ACCOUNTID depuis le dashboard Unipile",
    "5": "Configurer UNIPILE_API_KEY et WA_ACCOUNTID dans votre .env",
    "6": "Optionnel: configurer UNIPILE_DSN si différent du défaut"
  }
}